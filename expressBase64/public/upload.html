<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Upload</title>
  </head>
  <body>
    <div class="app">
      <form
        action="http://localhost:8080/api/users"
        method="POST"
        enctype="multipart/form-data"
      >
        <div class="form-group">
          <label for="username">username</label>
          <input type="username" name="username" id="username" required />
        </div>

        <div class="form-group">
          <label for="password">password</label>
          <input type="password" name="password" id="password" required />
        </div>

        <img src="" alt="" class="img-view" />

        <div class="form-group">
          <label for="avatar">avatar</label>
          <input
            type="file"
            name="avatar"
            id="avatar"
            onchange="handleView(event)"
            width="400px"
            required
          />
        </div>

        <button type="submit">Submit</button>
      </form>
    </div>

    <script>
      const handleView = () => {
        let img = document.querySelector(".img-view");

        const reader = new FileReader(event);
        reader.onload = function () {
          img.src = reader.result;
        };

        reader.readAsDataURL(event.target.files[0]);
      };
    </script>
  </body>
</html>
